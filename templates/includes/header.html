<header class="header">
    <div class="header-container">
        <!-- Logo -->
        <a href="{{ url_for('index') }}" class="header-logo">
            <img src="{{ url_for('static', filename='images/logo.svg') }}" alt="Logo">
            <span>AutoForm</span>
        </a>
        
        <!-- Navigation -->
        <nav class="header-nav">
            <a href="{{ url_for('index') }}" class="header-nav-item {% if request.endpoint == 'index' %}active{% endif %}">
                <i class="fas fa-home"></i> Trang chủ
            </a>
            {% if current_user.is_authenticated %}
            <a href="{{ url_for('home_routes.admin_dashboard') }}" class="header-nav-item {% if request.endpoint == 'home_routes.admin_dashboard' %}active{% endif %}">
                <i class="fas fa-tachometer-alt"></i> Bảng điều khiển
            </a>
            <a href="{{ url_for('form_routes.form') }}" class="header-nav-item {% if request.endpoint == 'form_routes.form' %}active{% endif %}">
                <i class="fas fa-file-alt"></i> Biểu mẫu
            </a>
            <a href="{{ url_for('profile_routes.profile') }}" class="header-nav-item {% if request.endpoint == 'profile_routes.profile' %}active{% endif %}">
                <i class="fas fa-user"></i> Hồ sơ
            </a>
            {% if current_user.is_admin %}
            <a href="{{ url_for('admin_routes.dashboard') }}" class="header-nav-item {% if 'admin_routes.' in request.endpoint %}active{% endif %}">
                <i class="fas fa-cog"></i> Quản trị
            </a>
            {% endif %}
            {% endif %}
            <a href="#" class="header-nav-item">
                <i class="fas fa-question-circle"></i> Trợ giúp
            </a>
        </nav>
        
        <!-- User Actions -->
        <div class="header-actions">
            {% if current_user.is_authenticated %}
            <div class="header-user">
                <div class="header-user-avatar">
                    <img src="{{ current_user.avatar or url_for('static', filename='images/default-avatar.png') }}" alt="Avatar">
                </div>
                <div class="header-user-info">
                    <div class="header-user-name">{{ current_user.fullname or current_user.username }}</div>
                    <div class="header-user-role">{% if current_user.is_admin %}Quản trị viên{% else %}Người dùng{% endif %}</div>
                </div>
            </div>
            <a href="{{ url_for('auth.logout') }}" class="header-action-button" title="Đăng xuất">
                <i class="fas fa-sign-out-alt"></i>
            </a>
            {% else %}
            <a href="{{ url_for('auth.login') }}" class="btn btn-outline-primary">
                <i class="fas fa-sign-in-alt"></i> Đăng nhập
            </a>
            <a href="{{ url_for('auth.register') }}" class="btn btn-primary">
                <i class="fas fa-user-plus"></i> Đăng ký
            </a>
            {% endif %}
            
            <!-- Mobile Menu Toggle -->
            <button class="header-mobile-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </div>
</header>

<script>
    // Mobile menu toggle
    document.querySelector('.header-mobile-toggle').addEventListener('click', function() {
        document.querySelector('.header-nav').classList.toggle('show');
    });
    
    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
        const nav = document.querySelector('.header-nav');
        const toggle = document.querySelector('.header-mobile-toggle');
        
        if (!nav.contains(event.target) && !toggle.contains(event.target) && nav.classList.contains('show')) {
            nav.classList.remove('show');
        }
    });
</script>